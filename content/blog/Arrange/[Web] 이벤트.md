---
title: '[Web] 이벤트'
date: 2022-03-15 00:14:13
category: 'Arrange'
draft: false
---

다양한 경험을 통해 학습했던 내용을 저만의 언어로 정리하는데 목적을 두고 있는 글입니다.

## 이벤트 위임과 장점?

이벤트 리스너를 하위 요소에 추가하는 대신 상위 요소에 추가하는 기법이다. 리스너는 DOM의 이벤트 버블링으로 인해 하위 요소에서 이벤트가 발생될 때마다 실행된다. 이에 대한 이점은 다음과 같다.

- 각 하위 항목에 대해 이벤트 핸들러를 연결하지 않고 상위 요소에 하나의 단일 핸들러만 필요해 메모리 사용 공간이 줄어든다.
- 제거된 요소에서 이벤트 핸들러를 해제하고 새 요소에 대해 새로운 이벤트를 바인딩할 필요가 없다.

Vanilla JavaScript 로 달력을 구현하는 과정에서 이벤트 위임을 사용해 각각의 일자에 이벤트 핸들러를 부착하지 않고 이벤트 처리를 한 경험이 있다. 이 때 `closest` 를 활용했다.

## event.stopPropagation()

이벤트 버블링과 캡쳐링 전달 방식이 아닌 원하는 요소의 이벤트만 신경써서 활용할 때 해당 웹 API 를 사용한다. 이벤트 버블링의 경우에는 해당 요소의 이벤트만 발생시키고 상위 요소로 전파하는 것을 막고, 캡쳐링의 경우에는 최상위 요소의 이벤트만 동작시키고 하위 요소들로 전파하지 않는다.

## HTML 문서의 생명주기 이벤트

1. DOMContentLoaded

브라우저가 HTML을 전부 읽고 DOM 트리를 완성하는 즉시 발생한다. 이미지 파일이나 스타일시트 등의 기타 자원은 기다리지 않는다. DOM이 준비된 것을 확인한 후 원하는 DOM 노드를 찾아 핸들러를 등록해 인터페이스를 초기화할 때 사용한다.

1. load

HTML로 DOM 트리를 만드는게 완성되었을 뿐만 아니라 이미지, 스타일 시트와 같은 외부 자원도 모두 불러오는 것이 끝났을 때 발생한다. 이미지 사이즈를 확인할 때 등 외부 자원이 로드된 후이기 때문에 스타일이 적용된 상태이므로 화면에 뿌려지는 실제 크기를 확인할 수 있다.

1. beforeunload/unload

사용자가 페이지를 떠날 때 발생한다. `beforeunload` 는 사용자가 사이트를 떠나려할 때, 변경되지 않은 사항들을 저장했는지 확인시켜줄 때 사용하며, `unload`는 사용자가 진짜 떠나기 전에 사용자 분석 정보를 담은 통계자료를 전송하고자 할 때 사용한다.
