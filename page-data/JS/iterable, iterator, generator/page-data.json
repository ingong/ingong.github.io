{"componentChunkName":"component---src-templates-blog-post-js","path":"/JS/iterable, iterator, generator/","result":{"data":{"site":{"siteMetadata":{"title":"Ingong's Log","author":"ingong","siteUrl":"https://ingong.github.io","comment":{"disqusShortName":"","utterances":"ingong/ingong.github.io"},"sponsor":{"buyMeACoffeeId":"ingong"}}},"markdownRemark":{"id":"1c27679a-dd86-580f-ac93-3c8b9ba45fc0","excerpt":"TL;DR JS 의 iterable, iterator, Generator 에 대해서 알아보자. iterable\nSymbol.iterator 메서드를 가진 객체이며, iterator 를 return 한다 iterator\nnext 메서드를 가지고, {value, done} 객체를 return 한다. Generator\nIterable 이면서 Iterator 인 객체이다. Generator 함수가 반환하는 객체이다. Generator 함수\n 키워드를 통해 사용할 선언, 하나 이상의 yield…","html":"<h3 id=\"tldr\" style=\"position:relative;\"><a href=\"#tldr\" aria-label=\"tldr permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TL;DR</h3>\n<p>JS 의 iterable, iterator, Generator 에 대해서 알아보자.</p>\n<ul>\n<li>iterable\n<a href=\"\">Symbol.iterator</a> 메서드를 가진 객체이며, iterator 를 return 한다</li>\n<li>iterator\nnext 메서드를 가지고, {value, done} 객체를 return 한다.</li>\n<li>Generator\nIterable 이면서 Iterator 인 객체이다. Generator 함수가 반환하는 객체이다.</li>\n<li>Generator 함수\n<code class=\"language-text\">*</code> 키워드를 통해 사용할 선언, 하나 이상의 yield 문을 포함한다. Generator 를 반환한다. 함수의 흐름을 제어할 수 있다는 측면에서 유의미하다.</li>\n</ul>\n<h2 id=\"iterable\" style=\"position:relative;\"><a href=\"#iterable\" aria-label=\"iterable permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Iterable</h2>\n<p><code class=\"language-text\">**iterable protocol**</code> 에 부합하는 순회할 수 있는 객체이다. 규칙은 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token number\">1.</span> Symbol<span class=\"token punctuation\">.</span>iterator 메서드를 가지고 있고<span class=\"token punctuation\">,</span>이는 iterator 객체를 반환해야합니다<span class=\"token punctuation\">.</span>\n<span class=\"token number\">2.</span> 순회할 수 있는 데이터를 가지고 있어야한다<span class=\"token punctuation\">.</span>\n<span class=\"token number\">3.</span> iterator 객체는 반드시 next 라고 하는 메서드를 가져야합니다<span class=\"token punctuation\">.</span>\n<span class=\"token number\">4.</span> next 에는 #<span class=\"token number\">1</span> 에 저장되어있는 데이터에 접근할 수 있어야합니다<span class=\"token punctuation\">.</span>\n<span class=\"token number\">5.</span> iterator 객체인 iteratorObj 에 대해서 iteratorObj<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> 를 하면\n\t <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>storedData</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">, done: false} #1 데이터가 추출되며,\n\t 전부 다 순회한 경우 </span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">done</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\"> 가 반환되어야합니다.</span></code></pre></div>\n<p><code class=\"language-text\">iterable protocol</code> 를 요약하면</p>\n<ul>\n<li>어떤 객체가 반복되기 위해서는 iteration 동작에 대해 정의해야한다.</li>\n<li><code class=\"language-text\">iterator</code> 는 next 함수를 구현해야하고, <code class=\"language-text\">{value: someValue, done: false}</code> 를 반환해야한다.</li>\n</ul>\n<p>위 규칙을 모두 따르고 있으면 <code class=\"language-text\">iterable</code> 이라고 부르며, 반환된 객체를 <code class=\"language-text\">iterator</code> 라고 부른다. 이터러블 객체의 대표적인 예시로는 배열과 문자열이 있다.</p>\n<p>for … of 는 이터러블 객체의 경우에만 적용이 가능하다. 왜냐하면 for … of 는 <code class=\"language-text\">Symbol.iterator(특수 내장 심볼)</code> 이라는 메서드가 있는 객체만 순회할 수 있기 때문이다.</p>\n<h2 id=\"for---in-문과-for---of-문\" style=\"position:relative;\"><a href=\"#for---in-%EB%AC%B8%EA%B3%BC-for---of-%EB%AC%B8\" aria-label=\"for   in 문과 for   of 문 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>for - in 문과 for - of 문</h2>\n<ul>\n<li><code class=\"language-text\">for ... in 문</code></li>\n</ul>\n<p>객체들의 키를 조회하기 위해서 사용한다. Key 를 리턴한다. <strong>상속된 열거 가능한 속성</strong>들을 포함한 객객체에서 문자열로 키가 지정된 모든 열거가능한 속성에 대해 반복한다. key 를 리턴한다.</p>\n<ul>\n<li><code class=\"language-text\">for ... of 문</code></li>\n</ul>\n<p>[Symbol.iterator] 속성을 가지는 Collection 만 대상으로 한다. Object 는 순회할 수 없다. value 를 리턴한다. Array, Map, Set, String, TypedArray, Arguments 등을 예시로 가진다.</p>\n<ul>\n<li>Collection</li>\n</ul>\n<p>프로그래밍 언어가 제공하는 값을 담을 수 있는 컨테이너이다. JS 에는 다음과 같은 컬렉션들이 존재한다.</p>\n<ol>\n<li><strong>Indexed Collection</strong></li>\n</ol>\n<p>인덱스값에 의해 정렬이 되는 자료구조이다. 배열과 유사 배열 생성자인 Array 객체, TypedArray 객체가 있다.</p>\n<ol start=\"2\">\n<li><strong>Keyed Collection</strong></li>\n</ol>\n<p>키값을 기준으로 정렬되는 자료구조이다. Objects, Map, Set, Weak Map, Weak Set 가 있다.</p>\n<h3 id=\"for--of-의-내부-동작-방식을-알아보자\" style=\"position:relative;\"><a href=\"#for--of-%EC%9D%98-%EB%82%B4%EB%B6%80-%EB%8F%99%EC%9E%91-%EB%B0%A9%EC%8B%9D%EC%9D%84-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90\" aria-label=\"for  of 의 내부 동작 방식을 알아보자 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>for … of 의 내부 동작 방식을 알아보자.</h3>\n<ol>\n<li>for … of 가 시작되면 for … of 는 <code class=\"language-text\">Symbol.iterator</code> 를 호출한다. 이 때 <code class=\"language-text\">Symbol.iterator</code> 는 반드시 <strong>이터레이터</strong>를 반환해야한다. <strong>이터레이터</strong>는 next 메서드가 있는 객체이다.</li>\n<li>이후 for … of 는 <strong>반환된 객체(이터레이터)</strong> 만을 대상으로 동작한다.</li>\n<li>for … of 에 다음 값이 필요하면, for … of 는 이터레이터의 next 메서드를 호출한다.</li>\n<li>next 메서드의 반환 값은 <code class=\"language-text\">{done: Boolean, value: any}</code> 와 같은 형태여야한다. <code class=\"language-text\">done=true</code> 이면 반복이 종료되었음을 나타내고, <code class=\"language-text\">done=false</code> 일 때는 value 에 다음 값이 저장된다.</li>\n</ol>\n<p>다음 예시를 어떻게 하면 순회할 수 있을까? 먼저 실행시켜보면 다음과 같은 결과를 얻을 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">let</span> range <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">from</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">to</span><span class=\"token operator\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> v <span class=\"token keyword\">of</span> range<span class=\"token punctuation\">)</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span></code></pre></div>\n<div align=\"center\">\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 936px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 25.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABCElEQVQY002Q2XKCQBBF+f/fSsrEaCkKLrgUi6JQgopR48acXNAHH25Nd83MvafbuvRdLmMPuj1Ms4WZ++AOwJGmc1itnv1kiglCSm+C2WRQFKSzOcl0RhYE+I7LX5pimTyn1IX5aWO+mrBY8ohX5L7PMUk46tEuijiGEWy3sN/D4VCrVH/LMu7STSFVb7HbwemE8QMYDOGjwaPnsBFx0bEpFLL5bPArgrNoIhHmIop1rqVynci8eAZJlpGhEX413l06tztcG99c7X5dX7QGhmNYxiz6DkvPq81mqkMB3OO4Hr/2kZ6G1QjaUSqiQdcmVj2xe7itNuFoxE1rqdLLaprXx1ovqvf6H/akcvuQnc/DAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Iterable\" title=\"Iterable\" src=\"/static/9c4064b516dc36527852d719451922d4/6d2da/Iterable.png\" srcset=\"/static/9c4064b516dc36527852d719451922d4/5a46d/Iterable.png 300w,\n/static/9c4064b516dc36527852d719451922d4/0a47e/Iterable.png 600w,\n/static/9c4064b516dc36527852d719451922d4/6d2da/Iterable.png 936w\" sizes=\"(max-width: 936px) 100vw, 936px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n</div>\n<p>for … of 는 이터러블 객체를 순회할 수 있는 방법이고, 이터러블 객체는 <code class=\"language-text\">Symbol.iterator</code> 메서드를 갖고 있는 객체다. 따라서 Symbol.iterator 메서드를 구현하면 된다. 해당 메서드를 구현할 때는 iterator 를 반환(next 메서드를 가지는 객체) 해야한다는 것에 집중해서 구현해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">let</span> range <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">from</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">to</span><span class=\"token operator\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\nrange<span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// iterator -> {value : asd, done: boolean}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">current</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>from<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">last</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>to<span class=\"token punctuation\">,</span>\n\n    <span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>current <span class=\"token operator\">&lt;=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>last<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">done</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>current<span class=\"token operator\">++</span> <span class=\"token punctuation\">}</span>\n      <span class=\"token keyword\">else</span> <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">done</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> num <span class=\"token keyword\">of</span> range<span class=\"token punctuation\">)</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span></code></pre></div>\n<p>이렇게 작성하는 것도 좋지만 range 자체를 iterator 로 만드는 것이 더 좋아보인다. 한 번 수정해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">let</span> range <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token literal-property property\">from</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token literal-property property\">to</span><span class=\"token operator\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n\n\t<span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>current <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>from<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>current <span class=\"token operator\">&lt;=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">done</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>current<span class=\"token operator\">++</span> <span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">done</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>range 는 iterable 이자 iterator 가 되었다. 이렇게 하나씩 <code class=\"language-text\">Symbol.iterator</code> 메서드를 구현하고, <code class=\"language-text\">next()</code> 메서드를 구현할 일이 많을 것 같지는 않다. 이를 위한 해결책인 <code class=\"language-text\">Generator</code> 가 있기 때문이다.</p>\n<ul>\n<li>\n<p>예제</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">makeRangeIterator</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">start <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> end <span class=\"token operator\">=</span> <span class=\"token number\">Infinity</span><span class=\"token punctuation\">,</span> step <span class=\"token operator\">=</span> <span class=\"token number\">1</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">let</span> nextIndex <span class=\"token operator\">=</span> start\n<span class=\"token keyword\">let</span> n <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n\n<span class=\"token keyword\">let</span> rangeIterator <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">next</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> result\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nextIndex <span class=\"token operator\">&lt;</span> end<span class=\"token punctuation\">)</span> result <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> nextIndex<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">done</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nextIndex <span class=\"token operator\">===</span> end<span class=\"token punctuation\">)</span> result <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> n<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">done</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">else</span> result <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">done</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span>\n    nextIndex <span class=\"token operator\">+=</span> step\n    n<span class=\"token operator\">++</span>\n    <span class=\"token keyword\">return</span> result\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">return</span> rangeIterator\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> it <span class=\"token operator\">=</span> <span class=\"token function\">makeRangeIterator</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">let</span> result <span class=\"token operator\">=</span> it<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>result<span class=\"token punctuation\">.</span>done<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span>\nresult <span class=\"token operator\">=</span> it<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<h3 id=\"iterable-consumers\" style=\"position:relative;\"><a href=\"#iterable-consumers\" aria-label=\"iterable consumers permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Iterable Consumers</h3>\n<p>다음 문법들은 Iterable 을 사용한다.</p>\n<ol>\n<li><code class=\"language-text\">for-of loop</code></li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> value <span class=\"token keyword\">of</span> someIterable<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol>\n<li><code class=\"language-text\">spread Operator</code></li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// Iterable의 모든  value들이 arr에 추가된다.</span>\n<span class=\"token keyword\">let</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>firstElem<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>someIterable<span class=\"token punctuation\">,</span> lastElem<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\">// Iterable의 모든 value들이 arguments에 추가된다.</span>\n<span class=\"token function\">someFunction</span><span class=\"token punctuation\">(</span>firstArg<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>someIterable<span class=\"token punctuation\">,</span> lastArg<span class=\"token punctuation\">)</span></code></pre></div>\n<p>이는 iterator 가 반환하는 객체 중 done 이 false 인 value 를 배열의 형태로 반환한다. 사실은 이미 알고 있는 내용이다.</p>\n<ol>\n<li><code class=\"language-text\">Positional Destructing</code></li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// Iterable의 첫 3개 값들이 저장된다.</span>\n<span class=\"token keyword\">let</span> <span class=\"token punctuation\">[</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> someIterable</code></pre></div>\n<h2 id=\"generator\" style=\"position:relative;\"><a href=\"#generator\" aria-label=\"generator permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Generator</h2>\n<p>제네레이터는 iterable 프로토콜과 iterator 프로토콜을 따르는 객체이다. 즉, <a href=\"\">Symbol.iterator</a> 메서드를 가지며, next 메서드를 갖는 객체이다.</p>\n<p>제네레이터 함수는 <code class=\"language-text\">*</code> 키워드를 통해 생성되며, 하나 이상의 yield 문을 포함한다. 일반 함수와 다르게 실행 과정에서 중지와 재시작이 가능하다. 제네레이터 객체가 가진 next 메서드를 호출하면 다시 실행될 수 있고, 제네레이터 함수의 yield 키워드를 만나면 중지된다.</p>\n<p>간단하게 예시를 통해 Generator 함수를 선언하고, Generator 객체를 사용해보자 . 제네레이터 함수는 <code class=\"language-text\">function*</code> 키워드를 사용해서 선언할 수 있다. 다음은 피보나치 수열의 값을 반환하는 Generator 를 구현한 함수이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">fibonacci</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> prev <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n    curr <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n  <span class=\"token keyword\">yield</span> prev\n  <span class=\"token keyword\">yield</span> curr\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> temp <span class=\"token operator\">=</span> prev\n    <span class=\"token punctuation\">;</span><span class=\"token punctuation\">[</span>prev<span class=\"token punctuation\">,</span> curr<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>curr<span class=\"token punctuation\">,</span> temp <span class=\"token operator\">+</span> curr<span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">yield</span> curr\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> n <span class=\"token keyword\">of</span> <span class=\"token function\">fibonacci</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>n <span class=\"token operator\">></span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">break</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">yield</code></li>\n</ul>\n<p>제네레이터 함수의 실행을 일시적으로 정지시키는 키워드이며, <code class=\"language-text\">yield</code> 뒤에 오는 표현식이 반환된다.</p>\n<ul>\n<li><code class=\"language-text\">next</code></li>\n</ul>\n<p>done 과 value 프로퍼티를 가진 객체를 반환한다. 또한 next 메서드를 호출할 때 매개변수를 제공하여 그 값을 generator 에게 전달할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">gen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> value <span class=\"token operator\">=</span> <span class=\"token keyword\">yield</span> <span class=\"token keyword\">null</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> g <span class=\"token operator\">=</span> <span class=\"token function\">gen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ng<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// \"{ value: null, done: false }\"</span>\n<span class=\"token comment\">// 처음에 전달하는 인자는 무시된다.</span>\ng<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// \"{ value: null, done: false }\"</span>\n<span class=\"token comment\">// 2</span></code></pre></div>","frontmatter":{"title":"iterable, iterator, generator","date":"February 28, 2022"}}},"pageContext":{"slug":"/JS/iterable, iterator, generator/","previous":{"fields":{"slug":"/FrontEnd/칸반보드와 UX 개선/"},"frontmatter":{"title":"칸반보드와 UX 개선"}},"next":{"fields":{"slug":"/JS/ECMAScript/"},"frontmatter":{"title":"ECMAScript"}}}},"staticQueryHashes":["2486386679","3128451518"]}